<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

{% if page.url contains '/teko/' %}
      <link rel="icon" type="image/png" href="{{ '/assets/icon_teko.png' | relative_url }}">
    {% elsif page.url contains '/aeftb/' %}
      <link rel="icon" type="image/png" href="{{ '/assets/icon_aeftb.ico' | relative_url }}">
    {% else %}
      <link rel="icon" type="image/png" href="{{ '/assets/icon_talio.png' | relative_url }}">
    {% endif %}
    
  </head>
  <body>
<section class="page-header">
      <h1 class="project-name">
        {% if page.url contains '/teko/' %}
          TEKO
        {% else %}
          {{ page.title | default: site.title | default: site.github.repository_name }}
        {% endif %}
      </h1>
      
      {% comment %} --- LÓGICA PARA HEADER DIVIDIDO (TEKO) --- {% endcomment %}
      {% if page.header_buttons_row_1 %}
        <div class="header-buttons-split-wrapper">
          <div class="header-row">
            {% for btn in page.header_buttons_row_1 %}
              {% assign btn_class = "btn custom-header-btn" %}
              {% if page.url == btn.url %}{% assign btn_class = btn_class | append: " active-btn" %}{% endif %}
              <a href="{{ btn.url }}" class="{{ btn_class }}" {% if btn.new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
                {% if btn.image_path %}<img src="{{ btn.image_path }}" alt="icon" class="btn-img-icon">{% elsif btn.icon_class %}<i class="{{ btn.icon_class }}"></i>{% endif %}
                {% if btn.label %}<span class="btn-text">{{ btn.label }}</span>{% endif %}
              </a>
            {% endfor %}
          </div>
<div class="header-row">
  {% for btn in page.header_buttons_row_2 %}
    {% assign btn_class = "btn custom-header-btn" %}
    {% if page.url == btn.url %}{% assign btn_class = btn_class | append: " active-btn" %}{% endif %}
    
    {% if btn.custom_class %}{% assign btn_class = btn_class | append: " " | append: btn.custom_class %}{% endif %}

    <a href="{{ btn.url }}" class="{{ btn_class }}" {% if btn.new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
      {% if btn.image_path %}<img src="{{ btn.image_path }}" alt="icon" class="btn-img-icon">{% elsif btn.icon_class %}<i class="{{ btn.icon_class }}"></i>{% endif %}
      {% if btn.label %}<span class="btn-text">{{ btn.label }}</span>{% endif %}
    </a>
  {% endfor %}
</div>
        </div>

      {% comment %} --- LÓGICA ORIGINAL (OTRAS PÁGINAS) --- {% endcomment %}
      {% elsif page.header_buttons %}
        <div class="header-buttons-container">
          {% for btn in page.header_buttons %}
            {% assign btn_class = "btn custom-header-btn" %}
            {% if page.url == btn.url or (btn.url != '/teko/' and page.url contains btn.url) %}
               {% assign btn_class = btn_class | append: " active-btn" %}
            {% endif %}
            <a href="{{ btn.url }}" class="{{ btn_class }}" {% if btn.new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
              {% if btn.image_path %}<img src="{{ btn.image_path }}" alt="icon" class="btn-img-icon">{% elsif btn.icon_class %}<i class="{{ btn.icon_class }}"></i>{% endif %}
              {% if btn.label %}<span class="btn-text">{{ btn.label }}</span>{% endif %}
            </a>
          {% endfor %}
        </div>
      {% endif %}  
    </section>
<section class="main-content">
      {{ content }}
    </section>
<style>
  /* Estilos del Footer */
  .site-footer {
      border-top: 1px solid rgba(0, 0, 0, 0.1); /* Línea separadora sutil */
      padding: 20px 0;
      margin-top: 40px;
      font-size: 0.85rem; /* Texto no muy grande */
      color: #606c71;
      background-color: #fff; /* O el color de fondo de tu tema */
  }
  /* Ajuste para modo oscuro o si el fondo es oscuro por defecto, ajustar colores */
  @media (prefers-color-scheme: dark) {
    .site-footer {
        background-color: #151515;
        color: #b0b0b0;
        border-top: 1px solid #333;
    }
  }

  .footer-content {
      max-width: 64rem; /* Ancho similar al main-content de Cayman/Default */
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
  }

  .footer-left a, .footer-right a {
      color: inherit;
      text-decoration: none;
      font-weight: bold;
  }
  
  .footer-left a:hover, .footer-right a:hover {
      text-decoration: underline;
      color: #157878; /* Color de acento del tema */
  }

  @media (max-width: 600px) {
      .footer-content {
          flex-direction: column;
          text-align: center;
      }
  }
</style>

<footer class="site-footer">
  <div class="footer-content">
    <div class="footer-left">
      &lt;&lt; <a href="https://taliogames.com/" target="_blank">Talio Games</a> &gt;&gt; 
      <a href="/teko" target="_blank">TEKO</a> | 
      <a href="/aeftb" target="_blank">AEFTB</a> | 
      <a href="https://store.steampowered.com/developer/TalioGames" target="_blank">Steam</a> | 
      <a href="https://discord.com/invite/Xk8RxfWBn6" target="_blank">Discord</a> | 
      <a href="https://www.youtube.com/@TalioGames" target="_blank">Youtube</a> | 
      <a href="https://x.com/TalioGames" target="_blank">X</a> | 
      <a href="https://patreon.com/c/TalioGames" target="_blank">Donate</a>
    </div>
    <div class="footer-right">
      Contact: <a href="mailto:contact@taliogames.com">contact@taliogames.com</a>
    </div>
  </div>
</footer>    

<button onclick="topFunction()" id="myBtn" title="Ir arriba">
  <i class="fas fa-arrow-up"></i>
</button>

<script>
// Obtener el botón
var mybutton = document.getElementById("myBtn");

// Cuando el usuario hace scroll hacia abajo 300px, mostrar el botón
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
    mybutton.style.display = "flex"; // Usamos flex para mantener el centrado
  } else {
    mybutton.style.display = "none";
  }
}

// Cuando el usuario hace clic, volver arriba
function topFunction() {
  // Para Safari
  document.body.scrollTop = 0;
  // Para Chrome, Firefox, IE y Opera
  document.documentElement.scrollTop = 0;
}
</script>
    
  </body>
</html>
